{
  "firmware_patterns": {
    "legacy": {
      "version_range": ["1.0.0", "2.0.0"],
      "clusters": ["genBasic", "genOnOff"],
      "capabilities": ["onoff"],
      "manufacturers": ["Tuya", "Zemismart"],
      "models": ["TS0001", "TS004F", "TS011F"],
      "characteristics": {
        "simple_protocol": true,
        "basic_functionality": true,
        "limited_features": true
      }
    },
    "current": {
      "version_range": ["2.0.0", "3.0.0"],
      "clusters": ["genBasic", "genOnOff", "genLevelCtrl"],
      "capabilities": ["onoff", "dim"],
      "manufacturers": ["Tuya", "Zemismart", "NovaDigital"],
      "models": ["TS0201", "TS0207", "TS0601"],
      "characteristics": {
        "enhanced_protocol": true,
        "standard_features": true,
        "reliable_communication": true
      }
    },
    "latest": {
      "version_range": ["3.0.0", "latest"],
      "clusters": ["genBasic", "genOnOff", "genLevelCtrl", "genPowerCfg", "genColorCtrl"],
      "capabilities": ["onoff", "dim", "measure_power", "light_hue", "light_saturation"],
      "manufacturers": ["Tuya", "Zemismart", "NovaDigital", "BlitzWolf", "Moes"],
      "models": ["TS130F", "THB2", "TS0207"],
      "characteristics": {
        "advanced_protocol": true,
        "full_features": true,
        "intelligent_detection": true,
        "power_management": true
      }
    },
    "unknown": {
      "version_range": ["unknown"],
      "clusters": ["genBasic", "genOnOff"],
      "capabilities": ["onoff"],
      "manufacturers": ["Unknown"],
      "models": ["UNKNOWN_MODEL"],
      "characteristics": {
        "intelligent_detection": true,
        "fallback_mode": true,
        "basic_support": true
      }
    }
  },
  "manufacturer_patterns": {
    "Tuya": {
      "base_clusters": ["genBasic", "genOnOff"],
      "common_capabilities": ["onoff"],
      "firmware_support": ["legacy", "current", "latest"],
      "model_prefixes": ["TS", "TH"],
      "characteristics": {
        "reliable": true,
        "widespread": true,
        "standard_compliant": true
      }
    },
    "Zemismart": {
      "base_clusters": ["genBasic", "genOnOff", "genLevelCtrl"],
      "common_capabilities": ["onoff", "dim"],
      "firmware_support": ["current", "latest"],
      "model_prefixes": ["TZ"],
      "characteristics": {
        "premium_quality": true,
        "advanced_features": true,
        "good_support": true
      }
    },
    "NovaDigital": {
      "base_clusters": ["genBasic", "genOnOff", "genLevelCtrl", "genPowerCfg"],
      "common_capabilities": ["onoff", "dim", "measure_power"],
      "firmware_support": ["current", "latest"],
      "model_prefixes": ["ND"],
      "characteristics": {
        "power_monitoring": true,
        "energy_efficient": true,
        "professional_grade": true
      }
    },
    "BlitzWolf": {
      "base_clusters": ["genBasic", "genOnOff", "genPowerCfg"],
      "common_capabilities": ["onoff", "measure_power"],
      "firmware_support": ["current", "latest"],
      "model_prefixes": ["BW"],
      "characteristics": {
        "cost_effective": true,
        "good_performance": true,
        "popular_choice": true
      }
    },
    "Moes": {
      "base_clusters": ["genBasic", "genOnOff", "genLevelCtrl"],
      "common_capabilities": ["onoff", "dim"],
      "firmware_support": ["current", "latest"],
      "model_prefixes": ["MS"],
      "characteristics": {
        "thermostat_specialist": true,
        "climate_control": true,
        "energy_saving": true
      }
    }
  },
  "cluster_patterns": {
    "genBasic": {
      "capabilities": ["measure_battery"],
      "required": true,
      "description": "Basic cluster for device information"
    },
    "genOnOff": {
      "capabilities": ["onoff"],
      "required": false,
      "description": "On/Off control cluster"
    },
    "genLevelCtrl": {
      "capabilities": ["dim"],
      "required": false,
      "description": "Level control cluster for dimming"
    },
    "genPowerCfg": {
      "capabilities": ["measure_power"],
      "required": false,
      "description": "Power configuration cluster"
    },
    "genColorCtrl": {
      "capabilities": ["light_hue", "light_saturation"],
      "required": false,
      "description": "Color control cluster"
    },
    "genTempMeasurement": {
      "capabilities": ["measure_temperature"],
      "required": false,
      "description": "Temperature measurement cluster"
    },
    "genHumidityMeasurement": {
      "capabilities": ["measure_humidity"],
      "required": false,
      "description": "Humidity measurement cluster"
    }
  },
  "device_categories": {
    "switch": {
      "clusters": ["genBasic", "genOnOff"],
      "capabilities": ["onoff"],
      "description": "Basic on/off switch"
    },
    "dimmer": {
      "clusters": ["genBasic", "genOnOff", "genLevelCtrl"],
      "capabilities": ["onoff", "dim"],
      "description": "Dimmable switch"
    },
    "plug": {
      "clusters": ["genBasic", "genOnOff", "genPowerCfg"],
      "capabilities": ["onoff", "measure_power"],
      "description": "Smart plug with power monitoring"
    },
    "light": {
      "clusters": ["genBasic", "genOnOff", "genLevelCtrl", "genColorCtrl"],
      "capabilities": ["onoff", "dim", "light_hue", "light_saturation"],
      "description": "RGB light with color control"
    },
    "sensor": {
      "clusters": ["genBasic", "genTempMeasurement", "genHumidityMeasurement"],
      "capabilities": ["measure_temperature", "measure_humidity"],
      "description": "Environmental sensor"
    },
    "thermostat": {
      "clusters": ["genBasic", "genOnOff", "genLevelCtrl"],
      "capabilities": ["onoff", "dim", "thermostat_mode"],
      "description": "Thermostat control device"
    }
  },
  "intelligent_detection": {
    "confidence_levels": {
      "high": {
        "min_confidence": 0.8,
        "description": "High confidence in device type and capabilities"
      },
      "medium": {
        "min_confidence": 0.6,
        "description": "Medium confidence with some uncertainty"
      },
      "low": {
        "min_confidence": 0.4,
        "description": "Low confidence, using fallback patterns"
      }
    },
    "fallback_strategies": {
      "unknown_manufacturer": {
        "strategy": "use_tuya_pattern",
        "description": "Use Tuya pattern for unknown manufacturers"
      },
      "unknown_model": {
        "strategy": "use_basic_pattern",
        "description": "Use basic on/off pattern for unknown models"
      },
      "unknown_clusters": {
        "strategy": "use_manufacturer_pattern",
        "description": "Use manufacturer-specific pattern"
      }
    }
  }
} 