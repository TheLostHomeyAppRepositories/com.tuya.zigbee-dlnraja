{
  "id": "tuya_plug_ts011f",
  "name": {
    "en": "Tuya Smart Plug 16A",
    "fr": "Prise Intelligente Tuya 16A"
  },
  "class": "socket",
  "capabilities": [
    "onoff",
    "measure_power",
    "meter_power"
  ],
  "images": {
    "small": "{{driverAssetsPath}}/images/small.png",
    "large": "{{driverAssetsPath}}/images/large.png"
  },
  "zigbee": {
    "manufacturerName": [
      "_TZ3000_*",
      "Tuya",
      "Generic"
    ],
    "productId": [
      "TS011F",
      "TS011F_plug_1",
      "TS011F_plug_2"
    ],
    "endpoints": {
      "1": {
        "clusters": [
          "genBasic",
          "genOnOff",
          "genIdentify",
          "genGroups",
          "genScenes",
          "genOta",
          "manuSpecificTuya"
        ],
        "bindings": [
          "genOnOff",
          "manuSpecificTuya"
        ]
      }
    },
    "clusters": {
      "genBasic": {
        "attributes": [
          "zclVersion",
          "appVersion",
          "stackVersion",
          "hwVersion",
          "manufacturerName",
          "modelId",
          "dateCode",
          "powerSource"
        ]
      },
      "genOnOff": {
        "attributes": [
          "onOff"
        ]
      },
      "manuSpecificTuya": {
        "attributes": [
          "dp1",
          "dp2",
          "dp101",
          "dp102"
        ]
      }
    }
  },
  "pair": [
    {
      "id": "generic_pair",
      "template": "generic"
    }
  ],
  "settings": [
    {
      "id": "tuya_dp_log",
      "type": "boolean",
      "label": {
        "en": "Log Tuya DPs",
        "fr": "Logger les DPs Tuya"
      },
      "value": false
    },
    {
      "id": "power_calibration",
      "type": "number",
      "label": {
        "en": "Power Calibration Factor",
        "fr": "Facteur de Calibration de Puissance"
      },
      "value": 1.0,
      "min": 0.1,
      "max": 10.0,
      "step": 0.1
    }
  ],
  "flow": {
    "triggers": [
      {
        "id": "power_changed",
        "title": {
          "en": "Power consumption changed",
          "fr": "Consommation d'énergie modifiée"
        },
        "titleFormatted": {
          "en": "Power consumption changed to {{power}} W",
          "fr": "Consommation d'énergie modifiée à {{power}} W"
        },
        "hint": {
          "en": "This flow card is triggered when the power consumption changes.",
          "fr": "Cette carte de flux est déclenchée quand la consommation d'énergie change."
        },
        "args": [
          {
            "name": "power",
            "type": "number",
            "title": {
              "en": "Power (W)",
              "fr": "Puissance (W)"
            }
          }
        ]
      }
    ],
    "actions": [
      {
        "id": "tuya_dp_send",
        "title": {
          "en": "Send Tuya DP",
          "fr": "Envoyer un DP Tuya"
        },
        "hint": {
          "en": "Send a custom Tuya Data Point command.",
          "fr": "Envoyer une commande DP Tuya personnalisée."
        },
        "args": [
          {
            "name": "dp_id",
            "type": "number",
            "title": {
              "en": "DP ID",
              "fr": "ID du DP"
            },
            "min": 1,
            "max": 65535
          },
          {
            "name": "dp_value",
            "type": "string",
            "title": {
              "en": "DP Value",
              "fr": "Valeur du DP"
            }
          }
        ]
      }
    ]
  },
  "flags": [
    "enableTuyaDpLogging",
    "enablePowerCalibration",
    "enableHeuristicMapping"
  ],
  "meta": {
    "sourceRefs": [
      "Zigbee2MQTT",
      "Blakadder",
      "Homey Community"
    ],
    "confidence": "high",
    "lastReviewed": "2025-08-13",
    "notes": "Smart plug with power monitoring. Supports Tuya DPs for advanced control."
  }
}
